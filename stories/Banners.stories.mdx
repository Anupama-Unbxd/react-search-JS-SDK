import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';

import Banners from '../src/modules/banners';
import Products from '../src/modules/products';
import UnbxdSearchWrapper from '../src/UnbxdSearchWrapper';
import SearchBox from '../src/modules/searchBox';
import { BannerItemComponent } from '../demo/src/components/MerchandizingBanner.js';
import { siteKey, apiKey, attributesMap, defaultSearch } from './config';

<Meta title="Banners" component={Banners} />

# Banners

### module to display the merchandizing banners based on search.

<Preview>
    <Story name="default">
        <UnbxdSearchWrapper siteKey={siteKey} apiKey={apiKey}>
            <Banners />
            <Products attributesMap={attributesMap} />
            <div className="hidden">
                <SearchBox defaultSearch={defaultSearch} />
            </div>
        </UnbxdSearchWrapper>
    </Story>
</Preview>

---

### altText.

Configure alt text for images by passing `altText`.

```jsx
<Banners altText="alt banner text" />
```

<Preview>
    <Story name="with altText">
        <UnbxdSearchWrapper siteKey={siteKey} apiKey={apiKey}>
            <Banners altText="alt banner text" />
            <Products attributesMap={attributesMap} />
            <div className="hidden">
                <SearchBox defaultSearch={defaultSearch} />
            </div>
        </UnbxdSearchWrapper>
    </Story>
</Preview>

---

### bannerItemComponent.

The default Banner item component can be overidden by passing a custom component instance.

```jsx
const BannerItemComponent = ({ itemData }) => {
    const { imageUrl } = itemData;
    return <img src={imageUrl} />;
};
```

The custom component instance will receive the following props

#### bannerItemComponent Props

| Name     | Type   | Description    |
| -------- | ------ | -------------- |
| itemData | object | banner values. |

```jsx
<Banners bannerItemComponent={<BannerItemComponent />} />
```

<Preview>
    <Story name="with bannerItemComponent">
        <UnbxdSearchWrapper siteKey={siteKey} apiKey={apiKey}>
            <Banners bannerItemComponent={<BannerItemComponent />} />
            <Products attributesMap={attributesMap} />
            <div className="hidden">
                <SearchBox defaultSearch={defaultSearch} />
            </div>
        </UnbxdSearchWrapper>
    </Story>
</Preview>

### Render props

-   This approach gives the total control of the module to the user.
-   The anonymous function will receive all the data and methods needed to build and manage the module.

#### Render prop parameters

| Name    | Type   | Description    |
| ------- | ------ | -------------- |
| banners | array  | banner data    |
| altText | string | image alt text |

<Preview>
    <Story name="with render props">
        <UnbxdSearchWrapper siteKey={siteKey} apiKey={apiKey}>
            <Banners>
                {({ banners, altText }) => {
                    return <div>render Banners</div>;
                }}
            </Banners>
            <Products attributesMap={attributesMap} />
            <div className="hidden">
                <SearchBox defaultSearch={defaultSearch} />
            </div>
        </UnbxdSearchWrapper>
    </Story>
</Preview>

---

# Props

<Props of={Banners} />
