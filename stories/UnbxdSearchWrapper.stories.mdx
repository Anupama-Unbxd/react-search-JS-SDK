import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import UnbxdSearchWrapper from '../src/UnbxdSearchWrapper';
import { getCategoryId } from '../demo/src/pages/Search';
import { siteKey, apiKey, attributesMap, defaultSearch } from './config';

<Meta title="UnbxdSearchWrapper" component={UnbxdSearchWrapper} />

# UnbxdSearchWrapper

### Component to wrap modules.

```jsx
<UnbxdSearchWrapper siteKey="..." apiKey="...">
    {/*modules*/}
</UnbxdSearchWrapper>
```

<Preview>
    <Story name="default">
        <UnbxdSearchWrapper siteKey={siteKey} apiKey={apiKey}>
            <div>
                Wrap all the modules in <strong>UnbxdSearchWrapper</strong>
            </div>
        </UnbxdSearchWrapper>
    </Story>
</Preview>

---

### Category

Pass `getCategoryId`, which returns the category path for category pages.

```js
const getCategoryId = () => {
    if (window.UnbxdAnalyticsConf) {
        return encodeURIComponent(window.UnbxdAnalyticsConf['page']);
    }
};
```

```jsx
<UnbxdSearchWrapper getCategoryId={getCategoryId}>
    {/*modules*/}
</UnbxdSearchWrapper>
```

<Preview>
    <Story name="with category">
        <UnbxdSearchWrapper
            siteKey={siteKey}
            apiKey={apiKey}
            getCategoryId={getCategoryId}
        >
            <div>
                Wrap all the modules in <strong>UnbxdSearchWrapper</strong>
            </div>
        </UnbxdSearchWrapper>
    </Story>
</Preview>

---

# Props

<Props of={UnbxdSearchWrapper} />
